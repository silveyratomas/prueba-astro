---
import "../../styles/global.css";
---

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>TuTienda ‚Äì Crea y gestion√° tu tienda online</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body class="min-h-screen bg-[var(--surface)] text-[var(--text)]">
    <!-- Barra simple -->
    <header class="border-b border-[var(--card-border)] bg-[var(--brand)] text-[var(--on-brand)]">
      <div class="container flex items-center justify-between py-3">
        <a href="/" class="font-bold text-lg flex items-center gap-2">
          üõí TuTienda
        </a>
        <nav class="flex items-center gap-4 text-sm opacity-90">
          <a href="/">Ver demo</a>
          <a href="/listado_box">Cat√°logo</a>
          <a href="/comprar">Checkout</a>
        </nav>
      </div>
    </header>

    <main>
      <!-- Hero (presentaci√≥n) -->
      <section class="relative">
        <div
          class="absolute inset-0 pointer-events-none"
          style="background: radial-gradient(60% 60% at 50% 0%, rgba(0,0,0,.08), transparent 60%);"
        ></div>

        <div class="container grid grid-cols-1 lg:grid-cols-2 gap-10 py-12 lg:py-16 items-center">
          <div>
            <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight">
              Cre√° tu tienda, <span class="text-[var(--accent)]">vend√© sin complicarte</span>
            </h1>
            <p class="mt-4 text-lg text-[var(--muted)] max-w-xl">
              TuTienda es un panel simple para administrar productos, temas y contenido. Public√° r√°pido,
              acept√° pedidos y manten√© todo bajo control desde un solo lugar.
            </p>

            <div class="mt-6 flex flex-wrap gap-3">
              <a class="btn" href="#acceso">Comenzar ahora</a>
              <a class="btn-white" href="/listado_box">Ver cat√°logo de ejemplo</a>
            </div>

            <!-- bullets -->
            <ul class="mt-8 grid sm:grid-cols-2 gap-3 text-sm">
              <li class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] px-4 py-3">
                ‚ö° Carga masiva de productos (CSV/JSON)*
              </li>
              <li class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] px-4 py-3">
                üé® Temas por variables: cambi√° colores sin tocar c√≥digo
              </li>
              <li class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] px-4 py-3">
                üõí Carrito local + Checkout simple listo para integrar
              </li>
              <li class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] px-4 py-3">
                üîå Integraciones futuras (MP, env√≠os, anal√≠tica)
              </li>
            </ul>

            <p class="text-xs text-[var(--muted)] mt-2">* En el demo a√∫n no activado; pensado para la siguiente etapa.</p>
          </div>

          <!-- Login card -->
          <aside id="acceso" class="lg:justify-self-end">
            <form id="loginForm"
              class="w-full max-w-sm bg-[var(--card)] border border-[var(--card-border)] rounded-xl p-6 space-y-4 shadow-sm">
              <h2 class="text-xl font-bold">Iniciar sesi√≥n</h2>
              <p class="text-sm text-[var(--muted)] -mt-1">
                Acced√© a tu panel para gestionar tu tienda.
              </p>

              <div>
                <label class="text-sm">Email</label>
                <input name="email" type="email" autocomplete="email" required
                  class="mt-1 w-full rounded-lg border border-[var(--card-border)] px-3 py-2 bg-white" />
              </div>

              <div>
                <label class="text-sm">Contrase√±a</label>
                <input name="pass" type="password" autocomplete="current-password" required
                  class="mt-1 w-full rounded-lg border border-[var(--card-border)] px-3 py-2 bg-white" />
              </div>

              <button type="submit" class="btn w-full">Entrar</button>
              <p class="text-xs text-[var(--muted)]">Demo: cualquier email/contrase√±a.</p>
            </form>
          </aside>
        </div>
      </section>

      <!-- C√≥mo funciona -->
      <section class="container py-10">
        <h3 class="h2">¬øC√≥mo funciona?</h3>
        <ol class="grid md:grid-cols-3 gap-4 text-sm">
          <li class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] p-4">
            <strong>1) Ingres√°</strong>
            <p class="text-[var(--muted)] mt-1">Entr√° con tu usuario y acced√© al panel.</p>
          </li>
          <li class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] p-4">
            <strong>2) Personaliz√°</strong>
            <p class="text-[var(--muted)] mt-1">Cambi√° colores, nombre y carg√° productos.</p>
          </li>
          <li class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] p-4">
            <strong>3) Compart√≠ tu link</strong>
            <p class="text-[var(--muted)] mt-1">TuTienda queda online para que recibas pedidos.</p>
          </li>
        </ol>
      </section>

      <!-- Preguntas r√°pidas -->
      <section class="container pb-12">
        <h3 class="h2">Preguntas r√°pidas</h3>
        <div class="grid md:grid-cols-2 gap-4 text-sm">
          <div class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] p-4">
            <strong>¬øNecesito hosting?</strong>
            <p class="text-[var(--muted)] mt-1">No en el demo. En producci√≥n pod√©s desplegar est√°tico.</p>
          </div>
          <div class="rounded-xl border border-[var(--card-border)] bg-[var(--card)] p-4">
            <strong>¬øPuedo cambiar la paleta?</strong>
            <p class="text-[var(--muted)] mt-1">S√≠, todo se maneja con variables CSS del tema.</p>
          </div>
        </div>
      </section>
    </main>

    <footer class="border-t border-[var(--card-border)] py-6 text-center text-sm text-[var(--muted)]">
      ¬© {new Date().getFullYear()} TuTienda ‚Äî Demo acad√©mico
    </footer>

    <!-- Tu l√≥gica real del admin -->
    <script src="/admin.js" defer></script>

    <!-- Login robusto (sin onsubmit inline) -->
    <script>
      // @ts-nocheck
      (function () {
        // Fallback por si /admin.js no est√°
        window.tpAdmin = window.tpAdmin || {
          login: (email, pass) => { localStorage.setItem('tp_admin_demo_auth', '1'); },
          isLogged: () => !!localStorage.getItem('tp_admin_demo_auth'),
        };

        // Si ya est√° logueado, al admin
        if (tpAdmin.isLogged && tpAdmin.isLogged()) {
          location.replace('/admin');
          return;
        }

        const form = document.getElementById('loginForm');
        form?.addEventListener('submit', (ev) => {
          ev.preventDefault();
          const email = form.email.value.trim();
          const pass  = form.pass.value.trim();
          try {
            tpAdmin.login(email, pass);   // en demo, valida cualquier cosa
            location.href = '/admin';
          } catch (e) {
            alert((e && e.message) || 'Error al iniciar sesi√≥n');
          }
        });
      })();
    </script>
  </body>
</html>
